"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1007],{1007:(I,m,n)=>{n.r(m),n.d(m,{RamosProfesorPageModule:()=>F});var f=n(177),g=n(4341),i=n(4742),l=n(4964),d=n(467),o=n(3953),h=n(7133),p=n(2518),P=n(9415);const v=[{path:"",component:(()=>{var s;class t{constructor(r,e,a){this.router=r,this.route=e,this.menuCtrl=a,this.firebaseSvc=(0,o.WQX)(h.f),this.utilsSvc=(0,o.WQX)(p.T),this.seccion=null,this.nombreAsignatura="",this.profesorNombre="",this.aula="xxx-x",this.cantidadAlumnos=0}ngOnInit(){this.seccionId=this.route.snapshot.paramMap.get("seccionId")||"",this.seccionId?this.obtenerDatosSeccion(this.seccionId):console.error("Secci\xf3n ID no proporcionado")}user(){return this.utilsSvc.getFromLocalStorage("user")}obtenerDatosSeccion(r){var e=this;return(0,d.A)(function*(){const a=yield e.utilsSvc.loading();yield a.present();try{if(e.seccion=yield e.firebaseSvc.getSeccionPorId(r),e.seccion){const u=yield e.firebaseSvc.getAsignaturaPorId(e.seccion.asignatura);u&&(e.nombreAsignatura=u.nombre),e.profesorNombre=e.user().name+" "+e.user().lastname,e.aula=e.seccion.aula,yield e.obtenerCantidadAlumnos(e.seccion.uid)}}catch(u){console.error("Error obteniendo la secci\xf3n:",u)}a.dismiss()})()}obtenerCantidadAlumnos(r){var e=this;return(0,d.A)(function*(){try{const a=yield e.firebaseSvc.getAlumnosPorSeccion(r);e.cantidadAlumnos=a.length}catch(a){console.error("Error obteniendo los alumnos:",a)}})()}Generar(){this.router.navigate(["/main-profesor/generar-profesor",this.seccionId])}Lista(){this.router.navigate(["/main-profesor/lista-alumno",this.seccionId])}metodoEjemplo(){console.log("hola")}}return(s=t).\u0275fac=function(r){return new(r||s)(o.rXU(l.Ix),o.rXU(l.nX),o.rXU(i._t))},s.\u0275cmp=o.VBU({type:s,selectors:[["app-ramos-profesor"]],decls:22,vars:5,consts:[["titulo","Asignatura"],[1,"ion-padding"],["color","tertiary","shape","round","expand","block",1,"ion-padding",3,"click"]],template:function(r,e){1&r&&(o.nrm(0,"app-encabezado",0),o.j41(1,"ion-content",1)(2,"ion-item")(3,"ion-label")(4,"h1"),o.EFF(5),o.k0s(),o.j41(6,"p"),o.EFF(7),o.k0s(),o.j41(8,"p"),o.EFF(9),o.k0s()()(),o.j41(10,"ion-item")(11,"ion-label")(12,"h1"),o.EFF(13,"Detalle"),o.k0s(),o.j41(14,"p"),o.EFF(15),o.k0s(),o.j41(16,"p"),o.EFF(17),o.k0s()()(),o.j41(18,"ion-button",2),o.bIt("click",function(){return e.Generar()}),o.EFF(19,"Generar c\xf3digo QR"),o.k0s(),o.j41(20,"ion-button",2),o.bIt("click",function(){return e.Lista()}),o.EFF(21,"Lista de Alumnos"),o.k0s()()),2&r&&(o.R7$(5),o.JRh(e.nombreAsignatura),o.R7$(2),o.SpI("Profesor: ",e.profesorNombre,""),o.R7$(2),o.SpI("Aula: ",e.aula,""),o.R7$(6),o.SpI("Secci\xf3n: ",null==e.seccion?null:e.seccion.nombre,""),o.R7$(2),o.SpI("Cantidad de alumnos: ",e.cantidadAlumnos,""))},dependencies:[i.Jm,i.W9,i.uz,i.he,P.w]}),t})()}];let R=(()=>{var s;class t{}return(s=t).\u0275fac=function(r){return new(r||s)},s.\u0275mod=o.$C({type:s}),s.\u0275inj=o.G2t({imports:[l.iI.forChild(v),l.iI]}),t})();var b=n(5553);let F=(()=>{var s;class t{}return(s=t).\u0275fac=function(r){return new(r||s)},s.\u0275mod=o.$C({type:s}),s.\u0275inj=o.G2t({imports:[f.MD,g.YN,i.bv,R,b.h]}),t})()}}]);